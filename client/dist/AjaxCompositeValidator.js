!function(t){function a(){return t.isFunction(t.entwine)}function e(a){return t("<div/>").text(a).html()}function n(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e(n);t.isFunction(t.noticeAdd)&&t.noticeAdd({text:r,type:i,stayTime:5e3,inEffect:{left:"0",opacity:"show"}}),a()||null==o||t("body,html").animate({scrollTop:o.offset().top},500)}function i(t,a){var e="".concat(t.attr("id"),"_"),n=t.find("#".concat(e,"error"));n.text(a),a?(n.addClass("validation validation-bar"),n.show()):(n.removeClass("validation"),n.hide())}function o(e,o){o.addClass("validationerror"),i(o,"There are validation errors on this form, please fix them before saving or publishing.");for(var r,s="".concat(o.attr("id"),"_"),l=0;l<e.length;l+=1){var d=e[l],c="".concat(s).concat(d.fieldName.replace(new RegExp(/_{2,}/g),"_")),u=t("#".concat(c).concat("_Holder")),v=null,m=(v=a()&&u.length?u:t("#".concat(c))).parents(".tab-pane").attr("aria-labelledby");t("#".concat(m)).addClass("font-icon-attention-1 tab-validation tab-validation--".concat(d.messageType));var f=t("<div/>").html((r=d.message,r.replace("\n","<br>"))).addClass("js-ajax-validation message ".concat(d.messageType));a()?f.insertBefore(v):(v.addClass("holder-required"),f.addClass("form__message form__message--required"),f.insertAfter(v))}n("Validation Error","error",o)}function r(a){i(a,""),a.removeClass("validationerror"),a.find(".holder-required").removeClass("holder-required"),a.find(".js-ajax-validation").remove(),a.find("a.ui-tabs-anchor").each((function(a,e){t(e).removeClass("font-icon-attention-1 tab-validation"),e.className=e.className.replace(new RegExp(/tab-validation--\w*/g,""))}))}function s(t,e,n){if(a()){if(n){var i=t.closest(".cms-container");i.length&&(i.submitForm(t,n),e.preventDefault())}}else t.get(0).submitWithoutEvent()}function l(a,e,i){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(a.preventDefault(),!e){var d,c,u,v,m=null!==(d=a.delegatedEvent)&&void 0!==d?d:a,f=null!==(c=m.originalEvent)&&void 0!==c?c:m,b=l(null!==(u=f.submitter)&&void 0!==u?u:f.target);if(b.hasClass("element-editor__hover-bar-area"))return!1;null!==(v=b.attr("name"))&&void 0!==v&&v.startsWith("action_")&&(e=b.get(0))}l(e).attr("disabled",!0);var h=void 0!==i?i:l(this);function g(t){var n=!1;return!0!==t&&t.length&&(o(t,h),n=!0),h.removeClass("js-validating"),n?(l(e).attr("disabled",!1),l(e).removeClass("loading"),!1):s(h,a,e)}function p(t,a,e){n("Could not validate. Aborting AJAX validation.","error"),console.error("Error with AJAX validation request: ".concat(a,": ").concat(e))}h.addClass("js-validating"),r(h);var _=h.data("validation-link"),j=h.serializeArray();return j.push({name:"action_app_ajaxValidate",value:"1"}),e&&j.push({name:"_original_action",value:e.getAttribute("name")}),l.ajax({type:"POST",url:_,data:j,success:g,error:p}),!1}if(!a())return t("form.js-multi-validator-ajax").on("submit",l),void t("form.js-multi-validator-ajax").each((function(a,e){e.submitWithoutEvent=e.submit,e.submit=function(){var a;"function"==typeof Event?a=new Event("submit",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event")).initEvent("submit",!0,!0),a.submitter=t(e).find('button[type="submit"], input[type="submit"]').get(0),e.dispatchEvent(a)}}));t.entwine("ss",(function(t){t("form.js-multi-validator-ajax").entwine({onsubmit:function(a,e){return l(a,e,this,t)}})}))}(jQuery);