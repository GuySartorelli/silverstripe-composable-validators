(()=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}!function(e){function a(){return e.isFunction(e.entwine)}function n(t){return e("<div/>").text(t).html()}function i(t){return t.replace(/\n/g,"<br>")}function o(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n(t);e.isFunction(e.noticeAdd)&&e.noticeAdd({text:r,type:i,stayTime:5e3,inEffect:{left:"0",opacity:"show"}}),a()||null==o||e("body,html").animate({scrollTop:o.offset().top},500)}function r(t,e){var a="".concat(t.attr("id"),"_"),n=t.find("#".concat(a,"error"));n.text(e),e?(n.addClass("validation validation-bar"),n.show()):(n.removeClass("validation"),n.hide())}function s(t,n){n.addClass("validationerror"),r(n,"There are validation errors on this form, please fix them before saving or publishing.");for(var s="".concat(n.attr("id"),"_"),l=0;l<t.length;l+=1){var d=t[l];if(d.fieldName){var c="".concat(s).concat(d.fieldName.replace(new RegExp(/_{2,}/g),"_")),u=e("#".concat(c).concat("_Holder")),v=null,f=(v=a()&&u.length?u:e("#".concat(c))).parents(".tab-pane").attr("aria-labelledby");e("#".concat(f)).addClass("font-icon-attention-1 tab-validation tab-validation--".concat(d.messageType));var m=e("<div/>").html(i(d.message)).addClass("js-ajax-validation message ".concat(d.messageType));a()?m.insertBefore(v):(v.addClass("holder-required"),m.addClass("form__message form__message--required"),m.insertAfter(v))}else{e("<div/>").html(i(d.message)).addClass("js-ajax-validation message ".concat(d.messageType)).insertAfter(n.find("#".concat(s,"error")))}}o("Validation Error","error",n)}function l(t){r(t,""),t.removeClass("validationerror"),t.find(".holder-required").removeClass("holder-required"),t.find(".js-ajax-validation").remove(),t.find("a.ui-tabs-anchor").each((function(t,a){e(a).removeClass("font-icon-attention-1 tab-validation"),a.className=a.className.replace(new RegExp(/tab-validation--\w*/g,""))}))}function d(t,e,n){if(a()){if(n){var i=t.closest(".cms-container");i.length&&(i.submitForm(t,n),e.preventDefault())}}else t.get(0).submitWithoutEvent()}function c(a,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.preventDefault(),!n){var c,u,v,f,m=null!==(c=a.delegatedEvent)&&void 0!==c?c:a,b=null!==(u=m.originalEvent)&&void 0!==u?u:m,p=r(null!==(v=b.submitter)&&void 0!==v?v:b.target);if(p.hasClass("element-editor__hover-bar-area"))return!1;null!==(f=p.attr("name"))&&void 0!==f&&f.startsWith("action_")&&(n=p.get(0))}r(n).attr("disabled",!0);var g=void 0!==i?i:r(this);function h(e){var i=!1;!0!==e&&e.length&&(i=!0);var o=g.find("div.g-recaptcha");if(o.length>0&&"object"===("undefined"==typeof grecaptcha?"undefined":t(grecaptcha))){var l=o.data("widgetid");null!=l&&(grecaptcha.getResponse(l)||(!0===e&&(e=[]),e.push({fieldName:null,message:"Please answer the captcha.",messageType:"required"}),i=!0))}return g.removeClass("js-validating"),i?(s(e,g),r(n).attr("disabled",!1),r(n).removeClass("loading"),!1):d(g,a,n)}function y(t,e,a){o("Could not validate. Aborting AJAX validation.","error"),console.error("Error with AJAX validation request: ".concat(e,": ").concat(a))}g.addClass("js-validating"),l(g);var j=g.data("validation-link"),C=g.serializeArray();return C.push({name:"action_app_ajaxValidate",value:"1"}),n&&C.push({name:"_original_action",value:n.getAttribute("name")}),r.ajax({type:"POST",url:j,data:C,success:h,error:y}),!1}if(!a())return e("form.js-multi-validator-ajax").on("submit",c),void e("form.js-multi-validator-ajax").each((function(t,a){a.submitWithoutEvent=a.submit,a.submit=function(){var t;"function"==typeof Event?t=new Event("submit",{bubbles:!0,cancelable:!0}):(t=document.createEvent("Event")).initEvent("submit",!0,!0),t.submitter=e(a).find('button[type="submit"], input[type="submit"]').get(0),a.dispatchEvent(t)}}));e.entwine("ss",(function(t){t("form.js-multi-validator-ajax").entwine({onsubmit:function(e,a){return c(e,a,this,t)}})}))}(jQuery)})();